# API
PORT=3000
SEPOLIA_RPC_URL=
PAYOUT_SIGNER_PRIVATE_KEY=
# Backward compatibility (deprecated):
OPERATOR_PRIVATE_KEY=

# SQLite persistence (production default)
MATCH_DB_FILE=.data/moltcombat.sqlite
TOURNAMENT_DB_FILE=.data/moltcombat-tournaments.sqlite

# Backward compatibility migration source (deprecated JSON store)
MATCH_STORE_FILE=.data/matches.json

# API access control
# Primary auth is per-agent API keys issued by POST /api/agents/register
ALLOW_PUBLIC_READ=true
# Optional owner override keys (not required for normal agent flow)
ADMIN_API_KEY=
OPERATOR_API_KEY=
READONLY_API_KEY=

# API hardening
API_RATE_LIMIT_MAX=120
API_RATE_LIMIT_WINDOW="1 minute"
AGENT_TIMEOUT_MS=7000
# Strict execution policy (recommended for trusted leaderboard + betting)
MATCH_REQUIRE_ENDPOINT_MODE=true
MATCH_REQUIRE_SANDBOX_PARITY=true
MATCH_REQUIRE_EIGENCOMPUTE=true
MATCH_REQUIRE_INDEPENDENT_AGENTS=true
MATCH_REQUIRE_EIGENCOMPUTE_ENVIRONMENT=true
MATCH_REQUIRE_EIGENCOMPUTE_IMAGE_DIGEST=true
MATCH_REQUIRE_EIGEN_SIGNER_ADDRESS=true
MATCH_REQUIRE_EIGEN_TURN_PROOF=true
MATCH_EIGEN_TURN_PROOF_MAX_SKEW_MS=300000
MATCH_REQUIRE_ANTI_COLLUSION=true
MATCH_COLLUSION_WINDOW_HOURS=24
MATCH_COLLUSION_MAX_HEAD_TO_HEAD=12
MATCH_COLLUSION_MIN_DECISIVE_FOR_DOMINANCE=6
MATCH_COLLUSION_MAX_DOMINANT_WIN_RATE=0.9
MATCH_ALLOW_SIMPLE_MODE=false

# Metering policy (applies per agent turn request/response)
MATCH_MAX_REQUEST_BYTES=32768
MATCH_MAX_RESPONSE_BYTES=262144
MATCH_MAX_LATENCY_MS=7000

MATCH_ATTESTATION_SIGNER_PRIVATE_KEY=
MARKET_DEFAULT_FEE_BPS=100
AUTOMATION_ESCROW_ENABLED=true
AUTOMATION_ESCROW_INTERVAL_MS=15000

# Optional Eigen verification + release vars
ECLOUD_ENV=sepolia
ECLOUD_APP_ID=
ECLOUD_APP_ID_API=
ECLOUD_APP_ID_WEB=
ECLOUD_APP_ID_AGENT_A=
ECLOUD_APP_ID_AGENT_B=
ECLOUD_APP_IDS=
ECLOUD_IMAGE_REF_AGENT_A=yourdockeruser/moltcombat-agent-a:latest
ECLOUD_IMAGE_REF_AGENT_B=yourdockeruser/moltcombat-agent-b:latest
AGENT_A_ENDPOINT=
AGENT_B_ENDPOINT=
AGENT_A_IMAGE_DIGEST=
AGENT_B_IMAGE_DIGEST=
AGENT_A_SIGNER_ADDRESS=
AGENT_B_SIGNER_ADDRESS=
MOLT_PRIZE_POOL_ADDRESS=
MOLT_USDC_ESCROW_ADDRESS=
MATCH_REQUIRE_ETH_FUNDING_BEFORE_START=true
MATCH_ETH_AUTOFUND=false

# USDC escrow deployment vars (for deploy:usdc-escrow:sepolia)
USDC_TOKEN_ADDRESS=
FEE_RECIPIENT=
FEE_BPS=300

# Web (frontend proxy)
# Required for apps/web server routes to reach API host.
BACKEND_API_URL=http://localhost:3000
# Optional alias for backend host used by some wrappers.
API_BASE_URL=http://localhost:3000
# Legacy fallback used when BACKEND_API_URL is missing.
NEXT_PUBLIC_API_URL=http://localhost:3000
